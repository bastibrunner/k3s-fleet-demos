defaultNamespace: cert-manager
helm:
  chart: cert-manager
  repo: https://charts.jetstack.io
  releaseName: cert-manager 
  version: 1.1.0
  values:
    installCRDs: true

diff:
  comparePatches:
    - apiVersion: admissionregistration.k8s.io/v1
      kind: MutatingWebhookConfiguration
      name: cert-manager-webhook
      operations:
      - {"op": "remove", "path": "/$setElementOrder~1webhooks/0"}
      - {"op": "remove", "path": "/webhooks/0"}
      - {"op": "remove", "path": "/webhooks/0/rules/0/apigroups"}
      - {"op": "remove", "path": "/webhooks/0/rules/0/apiVersions"}
      - {"op": "remove", "path": "/webhooks/0/rules/0/operations"}
      - {"op": "remove", "path": "/webhooks/0/rules/0/resources"}
    - apiVersion: admissionregistration.k8s.io/v1
      kind: ValidatingWebhookConfiguration
      name: cert-manager-webhook
      operations:
      - {"op": "remove", "path": "/$setElementOrder~1webhooks/0"}
      - {"op": "remove", "path": "/webhooks/0"}
      - {"op": "remove", "path": "/webhooks/0/rules/0/apigroups"}
      - {"op": "remove", "path": "/webhooks/0/rules/0/apiVersions"}
      - {"op": "remove", "path": "/webhooks/0/rules/0/operations"}
      - {"op": "remove", "path": "/webhooks/0/rules/0/resources"}
    - apiVersion: rbac.authorization.k8s.io/v1
      kind: RoleBinding
      name: cert-manager-webhook:dynamic-serving
      namespace: default
      operations:
      - {"op": "remove", "path": "/subjects/0/apiGroup"}
      - {"op": "remove", "path": "/subjects/0/kind"}
      - {"op": "remove", "path": "/subjects/0"}
      - {"op": "remove", "path": "/subjects/0/namespace"}
    - apiVersion: rbac.authorization.k8s.io/v1
      kind: RoleBinding
      name: cert-manager:leaderelection
      namespace: kube-system
      operations:
      - {"op": "remove", "path": "/subjects/0/apiGroup"}
      - {"op": "remove", "path": "/subjects/0/kind"}
      - {"op": "remove", "path": "/subjects/0"}
      - {"op": "remove", "path": "/subjects/0/namespace"}
